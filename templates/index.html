<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Word Fantasy - Teste de Combate</title>
<style>
    body {
        background-color: #111;
        color: white;
        font-family: Arial;
        text-align: center;
        padding: 20px;
    }

    .box {
        border: 2px solid #555;
        padding: 15px;
        margin: 10px;
        border-radius: 10px;
    }

    button {
        padding: 10px 20px;
        font-size: 16px;
        margin: 5px;
        cursor: pointer;
        border-radius: 8px;
        border: none;
    }

    #log {
        background: #222;
        padding: 10px;
        height: 200px;
        overflow-y: auto;
        text-align: left;
    }
</style>
</head>
<body>

<h1>‚öîÔ∏è Word Fantasy - Sistema de Teste</h1>

<div class="box">
    <h2>üßô Jogador</h2>
    <p>N√≠vel: <span id="nivel"></span></p>
    <p>XP: <span id="xp"></span> / <span id="xpMax"></span></p>
    <p>Vida: <span id="vida"></span></p>
    <p>Ataque: <span id="ataque"></span></p>
    <p>Defesa: <span id="defesa"></span></p>
</div>

<div class="box">
    <h2>üëπ Inimigo</h2>
    <p>Nome: <span id="nomeInimigo"></span></p>
    <p>Vida: <span id="vidaInimigo"></span></p>
</div>

<button onclick="atacar()">‚öîÔ∏è Atacar</button>
<button onclick="resetarJogo()">üîÑ Resetar</button>

<h3>üìú Log</h3>
<div id="log"></div>

<script>
let jogador = {
    nivel: 1,
    xp: 0,
    xpMax: 50,
    vidaMax: 100,
    vida: 100,
    ataque: 15,
    defesa: 5
};

let inimigo = {};

function gerarInimigo() {
    let nomes = ["Goblin", "Orc", "Esqueleto", "Lobo Sombrio"];
    let nome = nomes[Math.floor(Math.random() * nomes.length)];
    let vida = 50 + jogador.nivel * 20;
    let ataque = 10 + jogador.nivel * 5;

    inimigo = {
        nome: nome,
        vida: vida,
        ataque: ataque
    };

    atualizarTela();
}

function atacar() {
    if (jogador.vida <= 0 || inimigo.vida <= 0) return;

    // Jogador ataca
    let danoJogador = jogador.ataque - Math.floor(Math.random() * 5);
    inimigo.vida -= danoJogador;
    log("üßô Voc√™ causou " + danoJogador + " de dano!");

    if (inimigo.vida <= 0) {
        log("üëπ " + inimigo.nome + " foi derrotado!");
        ganharXP(20);
        loot();
        gerarInimigo();
        return;
    }

    // Inimigo ataca
    let danoInimigo = inimigo.ataque - jogador.defesa;
    if (danoInimigo < 0) danoInimigo = 0;

    jogador.vida -= danoInimigo;
    log("üëπ " + inimigo.nome + " causou " + danoInimigo + " de dano!");

    if (jogador.vida <= 0) {
        log("üíÄ Voc√™ morreu! Tudo foi resetado.");
        setTimeout(resetarJogo, 2000);
    }

    atualizarTela();
}

function ganharXP(valor) {
    jogador.xp += valor;
    log("‚ú® Voc√™ ganhou " + valor + " XP!");

    if (jogador.xp >= jogador.xpMax) {
        jogador.xp -= jogador.xpMax;
        jogador.nivel++;
        jogador.xpMax += 30;

        jogador.vidaMax += 20;
        jogador.ataque += 5;
        jogador.defesa += 2;
        jogador.vida = jogador.vidaMax;

        log("üìà LEVEL UP! Agora voc√™ √© n√≠vel " + jogador.nivel + "!");
    }

    atualizarTela();
}

function loot() {
    let chance = Math.random();

    if (chance < 0.3) {
        jogador.ataque += 2;
        log("üéÅ Voc√™ encontrou uma espada! +2 Ataque!");
    } else if (chance < 0.6) {
        jogador.defesa += 1;
        log("üõ° Voc√™ encontrou um escudo! +1 Defesa!");
    } else {
        log("‚ùå Nenhum item encontrado.");
    }
}

function atualizarTela() {
    document.getElementById("nivel").innerText = jogador.nivel;
    document.getElementById("xp").innerText = jogador.xp;
    document.getElementById("xpMax").innerText = jogador.xpMax;
    document.getElementById("vida").innerText = jogador.vida + " / " + jogador.vidaMax;
    document.getElementById("ataque").innerText = jogador.ataque;
    document.getElementById("defesa").innerText = jogador.defesa;

    document.getElementById("nomeInimigo").innerText = inimigo.nome;
    document.getElementById("vidaInimigo").innerText = inimigo.vida;
}

function log(texto) {
    let logDiv = document.getElementById("log");
    logDiv.innerHTML += "<p>" + texto + "</p>";
    logDiv.scrollTop = logDiv.scrollHeight;
}

function resetarJogo() {
    jogador = {
        nivel: 1,
        xp: 0,
        xpMax: 50,
        vidaMax: 100,
        vida: 100,
        ataque: 15,
        defesa: 5
    };

    document.getElementById("log").innerHTML = "";
    gerarInimigo();
}

gerarInimigo();
</script>

</body>
</html>
